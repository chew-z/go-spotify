<!--mood.html-->

<!--Embed the header.html template at this location-->
{{ template "header.html" .}}
<h4 class="display-4">{{ .title }}</h4>

<div class="container d-flex justify-content-end">
<a href="/mood?r=1" class="btn btn-light btn-sm btn-lg active" role="button" aria-pressed="true">Save</a>
</div>
<div class="container">
    <div class="card-columns">
        {{range .Tracks }}
            {{ template "item.html" .}}
        {{end}}
    </div>
</div>
<script>
function getUrlParameter(name) {
    name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
    var regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
    var results = regex.exec(location.search);
    return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
};
    let r = getUrlParameter('r')
    console.log(r);
    $( document ).ready(function() {    
        if(r) {
            $('#toast').toast('show')
        }
    });
</script>
<div id="toast" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-delay="10000" style="position: absolute; top: 1rem; right: 1rem;">
  <div class="toast-header">
    <strong class="mr-auto">Mood</strong>
    <small>...</small>
    <button type="button" class="ml-2 mb-1 close" data-dismiss="toast" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="toast-body">
    Playlist created and saved.
 </div>
</div>
<!--Embed the footer.html template at this location-->
{{ template "footer.html" .}}
